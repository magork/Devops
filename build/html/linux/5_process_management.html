<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>5. Process management &mdash; DevOps 1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/max_width.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. System logging" href="6_system_logging.html" />
    <link rel="prev" title="4. Service Management" href="4_service_management.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            DevOps
              <img src="../_static/Logo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Curriculum</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../curriculum/curriculum.html">Class Curriculum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction to DevOps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/devops.html">1. Introduction to DevOps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/TODO.html">2. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Environments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../environments/environments.html">1. Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments/getting_around.html">2. Getting around</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments/setup_infra.html">3. Setup developing infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments/TODO.html">4. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Linux</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">0. Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_managing_users_and_groups.html">1. Managing Users and Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_file_management.html">2. File management</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_managing_software.html">3. Managing Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_service_management.html">4. Service Management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Process management</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_system_logging.html">6. System logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="7_linux_file_systems.html">7. Linux File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="8_terminal_tuning.html">8. Terminal tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="TODO.html">9. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Git</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../git/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/bestpractices.html">1. Best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/TODO.html">2. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DocOps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs_as_code/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_as_code/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_as_code/deploy_docs.html">3. Deploy Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_as_code/sphinx.html">2. What is sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_as_code/TODO.html">4. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/shell_style_guide.html">1. Shell Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/examples.html">2. Working with aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/TODO.html">3. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/data_structures.html">2. Variables and Data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/conditions_loops.html">3. Loops and conditionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/libraries.html">4. Libraries and modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/functions.html">5. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/classes.html">6. Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/documentation.html">7. Documenting your code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/yourfirstcli.html">8. Your first CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/rules.html">9. Python Language Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/TODO.html">10. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Containers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../containers/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/installation.html">1. Windows installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/helloworld.html">2. Running “Hello World”</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/workingwithdocker.html">3. Working with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/usingdockerfile.html">4. Using Dockerfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/management.html">5. Container management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/orchestration.html">6. Container orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers/TODO.html">7. TODO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Kubernetes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/gettingstarted.html">1. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/deployments.html">2. Creating a Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/argocd.html">3. ArgoCD</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Pipelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pipelines/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines/jenkins.html">2. Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines/github.html">3. GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines/python_cli.html">2. Python CLI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ansible/introduction.html">0. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ansible/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ansible/architecture.html">2. Ansible architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ansible/gettingstarted.html">3. Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project/introduction.html">0. Introduction</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DevOps</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">5. Process management</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/linux/5_process_management.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="process-management">
<h1>5. Process management<a class="headerlink" href="#process-management" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p>a process is a unit for provisioning system resources</p></li>
<li><p>it is any program, application, or command that runs on the system</p></li>
<li><p>is created in memory in its own address space when a program, application, or command is initiated</p></li>
<li><p>each process has a parent process that spawns it</p></li>
<li><p>a single parent process may have one or many child processes and passes many of its attributes to them at the time of their creation</p></li>
<li><p>each process is assigned a unique identification number, known as the process identifier (PID), which is used by the kernel to manage and control the process through its lifecycle</p></li>
<li><p>when a process completes its lifecycle or is terminated, this event is reported back to its parent process, and all the resources provisioned to it are then freed and the PID is removed</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don’t root and drink!</p>
</div>
<p>Learning about process management, we will start a misbehaving process:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># go to the sandbox</span>
<span class="nb">cd</span><span class="w"> </span>~/sandbox

<span class="c1"># create a new file</span>
vim<span class="w"> </span>bad.py

<span class="c1"># Add this content</span>
!/usr/bin/env<span class="w"> </span>python3
<span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span>:
<span class="w">        </span>pass

<span class="c1"># press i to insert</span>
<span class="c1"># then :wq</span>
<span class="c1"># This program, when executed, runs in an infinite loop — clearly not something you want running on your server.</span>

<span class="c1"># add execute permission</span>
chmod<span class="w"> </span><span class="m">750</span><span class="w"> </span>bad.py
<span class="c1"># or</span>
chmod<span class="w"> </span>u+x<span class="w"> </span>bad.py

<span class="c1"># Run</span>
./bad.py<span class="w"> </span><span class="p">&amp;</span>

<span class="c1"># to find the process</span>
ps<span class="w"> </span>-ef<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>bad
<span class="c1"># or</span>
ps<span class="w"> </span>-ef<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>python
<span class="c1"># or</span>
pgrep<span class="w"> </span>-f<span class="w"> </span>bad

<span class="nb">kill</span><span class="w"> </span>PROCESS_ID
</pre></div>
</div>
<section id="kill-vs-kill-9">
<h2>kill vs kill -9<a class="headerlink" href="#kill-vs-kill-9" title="Permalink to this heading"></a></h2>
<p>The secure and appropriate method of ending a process is kill, often known as <code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">-TERM</span></code> or <code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">-15</span></code>. It is comparable to properly turning off a computer.
The risky method of brutally murdering a process is <code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">-9</span></code>. It might corrupt the data and is similar to unplugging the power wire.</p>
<section id="process-cheat-sheet">
<h3>Process Cheat sheet<a class="headerlink" href="#process-cheat-sheet" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># list all running processes</span>
ps<span class="w"> </span>aux

<span class="c1"># list all running processes in extra wide format</span>
<span class="c1"># useful to display long commands that are trimmed by default</span>
ps<span class="w"> </span>auxww

<span class="c1"># hierarchy list all running processes</span>
ps<span class="w"> </span>auxf

<span class="c1"># terminate process</span>
<span class="nb">kill</span><span class="w"> </span>PID

<span class="c1"># forcefully terminate process</span>
<span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span>PID

<span class="c1"># returns a list of PIDs that have &quot;keyword&quot; in the command field</span>
pgrep<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;keyword&quot;</span>

<span class="c1"># terminates all PIDs that have &quot;keyword&quot; in the command field</span>
pkill<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;keyword&quot;</span>

<span class="c1"># run &quot;command&quot; and send it in the background</span>
<span class="nb">command</span><span class="w"> </span><span class="p">&amp;</span>

<span class="c1"># detach command from tty and run it in the background</span>
<span class="c1"># send stdout and sterr to the cmd.log file</span>
nohup<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>cmd.log<span class="w"> </span><span class="p">&amp;</span>

<span class="c1"># allows you to execute a command or program periodically and also shows your output on the screen which means that you will be able to see the program output in time. By default, watch re-runs the command/program every 2 seconds. The interval can be easily changed to meet your requirements.</span>
watch<span class="w"> </span>free<span class="w"> </span>-m

<span class="c1"># display commands sent to run in the background</span>
<span class="nb">jobs</span>

<span class="c1"># bring the last command sent to the background in the foreground</span>
<span class="nb">fg</span>

<span class="c1"># resume commands paused with CTRL-Z</span>
<span class="nb">bg</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Thou shalt not kill -9</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="4_service_management.html" class="btn btn-neutral float-left" title="4. Service Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="6_system_logging.html" class="btn btn-neutral float-right" title="6. System logging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, skillab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>